{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/lassebirk/SemesterProjektFrontend/SYS-Frontend/src/components/MySearchSite.js\";\nimport React from 'react';\nimport \"../Css-files/wrapper.css\";\n\nclass MySearchSite extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      query: '',\n      loadingData: true,\n      hideSuggestions: false,\n      data: []\n    };\n    this.loadInitialData();\n  }\n\n  async loadInitialData() {\n    const response = await fetch('https://dgpcoding.com/SYS/api/flight/allairports');\n    const json = await response.json();\n    this.setState({\n      isLoading: false,\n      data: json\n    });\n  }\n\n  filterByQuery(query) {\n    if (query.length === 0) {\n      return [];\n    }\n\n    const matches = [element => element.name];\n    const queryValue = query.toLowerCase();\n    return this.state.data.filter(element => {\n      for (let match of matches) {\n        const comparableValue = match(element).toLowerCase();\n\n        if (queryValue === comparableValue || comparableValue.includes(queryValue)) {\n          return true;\n        }\n      }\n\n      return false;\n    });\n  }\n\n  render() {\n    const {\n      query,\n      isLoading,\n      hideSuggestions\n    } = this.state;\n\n    if (isLoading) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Initializing\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 16\n      }, this);\n    }\n\n    const filteredData = this.filterByQuery(query);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"searcher\",\n          value: query,\n          onFocus: () => this.setState({\n            hideSuggestions: false\n          }),\n          onChange: event => this.setState({\n            query: event.target.value\n          }),\n          type: \"text\",\n          placeholder: \"Food or destination\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"table\",\n            children: !hideSuggestions && filteredData.map(entry => {\n              return /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"tableContent\",\n                onClick: () => this.setState({\n                  hideSuggestions: true,\n                  query: entry.name\n                }),\n                children: entry.name\n              }, entry.name, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"searchButton\",\n        type: \"button\",\n        onClick: console.log(\"implement something please\"),\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"result\",\n        className: \"returnedResult\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default MySearchSite;","map":{"version":3,"sources":["/Users/lassebirk/SemesterProjektFrontend/SYS-Frontend/src/components/MySearchSite.js"],"names":["React","MySearchSite","Component","constructor","props","state","query","loadingData","hideSuggestions","data","loadInitialData","response","fetch","json","setState","isLoading","filterByQuery","length","matches","element","name","queryValue","toLowerCase","filter","match","comparableValue","includes","render","filteredData","event","target","value","map","entry","console","log"],"mappings":"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","sourcesContent":["\nimport React from 'react';\n\nimport \"../Css-files/wrapper.css\"\n\n\n\n  class MySearchSite extends React.Component {\n\n    constructor(props) {\n      super(props)\n      \n      this.state = {\n        query: '',\n        loadingData: true,\n        hideSuggestions: false,\n        data: []\n      }\n      \n      this.loadInitialData()\n    }\n    \n    async loadInitialData() {\n      const response = await fetch('https://dgpcoding.com/SYS/api/flight/allairports')\n      const json = await response.json()\n      \n      this.setState({ isLoading: false, data: json })\n    }\n    \n    filterByQuery(query) {\n      if (query.length === 0) {\n        return []\n      }\n      \n      const matches = [\n        (element) => element.name\n      ]\n      \n      const queryValue = query.toLowerCase()\n      \n      return this.state.data.filter(element => {\n        for (let match of matches) {\n          const comparableValue = match(element).toLowerCase()\n          \n          if (queryValue === comparableValue || comparableValue.includes(queryValue)) {\n            return true\n          }\n        }\n        \n        return false\n      })\n    }\n    \n    render() {\n      const { query, isLoading, hideSuggestions } = this.state\n      \n      if (isLoading) {\n        return <p>Initializing</p>\n      }\n      \n      const filteredData = this.filterByQuery(query)\n      \n      return (\n        <div className='wrapper'>\n          \n          <div>\n            <input  className=\"searcher\"value={ query } onFocus={ () => this.setState({ hideSuggestions: false })} onChange={ (event) => this.setState({ query: event.target.value }) } type='text' placeholder='Food or destination'/>\n            <div>\n              <ul className=\"table\">\n                { !hideSuggestions && filteredData.map(entry => {\n                  return (\n                    <li className=\"tableContent\"key={ entry.name } onClick={ () => this.setState({ hideSuggestions: true, query: entry.name })}>\n                        { entry.name }\n                    </li>\n                  )\n                }) }\n              </ul>\n            </div>\n          </div>\n          <button className=\"searchButton\" type=\"button\" onClick={console.log(\"implement something please\")} >Search</button>\n        <div id=\"result\" className=\"returnedResult\" ></div>\n        </div>\n      )\n    }\n  }\n  \n \n  export default MySearchSite;"]},"metadata":{},"sourceType":"module"}