{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/lassebirk/SemesterProjektFrontend/SYS-Frontend/src/components/MySearchSite.js\";\nimport React from 'react';\nimport \"../Css-files/wrapper.css\";\n\nclass MySearchSite extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      query: '',\n      loadingData: true,\n      hideSuggestions: false,\n      data: []\n    };\n    this.onSearch = this.onSearch.bind(this);\n    this.loadInitialData();\n  }\n\n  async loadInitialData() {\n    const response = await fetch('https://dgpcoding.com/SYS/api/flight/allairports');\n    const json = await response.json();\n    this.setState({\n      isLoading: false,\n      data: json\n    });\n  }\n\n  onSearch() {}\n\n  filterByQuery(query) {\n    if (query.length === 0) {\n      return [];\n    }\n\n    const matches = [element => element.name, element => element.city];\n    const queryValue = query.toLowerCase();\n    return this.state.data.filter(element => {\n      for (let match of matches) {\n        const comparableValue = match(element).toLowerCase();\n\n        if (queryValue === comparableValue || comparableValue.includes(queryValue)) {\n          return true;\n        }\n      }\n\n      return false;\n    });\n  }\n\n  render() {\n    const {\n      query,\n      isLoading,\n      hideSuggestions\n    } = this.state;\n\n    if (isLoading) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Initializing\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 14\n      }, this);\n    }\n\n    const filteredData = this.filterByQuery(query);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"searcher\",\n          value: query,\n          onFocus: () => this.setState({\n            hideSuggestions: false\n          }),\n          onChange: event => this.setState({\n            query: event.target.value\n          }),\n          type: \"text\",\n          placeholder: \"Food or destination\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"table\",\n            children: !hideSuggestions && filteredData.map(entry => {\n              return /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"tableContent\",\n                onClick: () => this.setState({\n                  hideSuggestions: true,\n                  query: entry.name\n                }),\n                children: entry.name\n              }, entry.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"searchButton\",\n        type: \"button\",\n        onClick: console.log(\"implement something please\"),\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"result\",\n        className: \"returnedResult\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default MySearchSite;","map":{"version":3,"sources":["/Users/lassebirk/SemesterProjektFrontend/SYS-Frontend/src/components/MySearchSite.js"],"names":["React","MySearchSite","Component","constructor","props","state","query","loadingData","hideSuggestions","data","onSearch","bind","loadInitialData","response","fetch","json","setState","isLoading","filterByQuery","length","matches","element","name","city","queryValue","toLowerCase","filter","match","comparableValue","includes","render","filteredData","event","target","value","map","entry","id","console","log"],"mappings":";;AACA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,0BAAP;;AAEA,MAAMC,YAAN,SAA2BD,KAAK,CAACE,SAAjC,CAA2C;AAEzCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE,EADI;AAEXC,MAAAA,WAAW,EAAE,IAFF;AAGXC,MAAAA,eAAe,EAAE,KAHN;AAIXC,MAAAA,IAAI,EAAE;AAJK,KAAb;AAOA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAAhB;AAEA,SAAKC,eAAL;AACD;;AAED,QAAMA,eAAN,GAAwB;AACtB,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,kDAAD,CAA5B;AACA,UAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACE,IAAT,EAAnB;AAEA,SAAKC,QAAL,CAAc;AAAEC,MAAAA,SAAS,EAAE,KAAb;AAAoBR,MAAAA,IAAI,EAAEM;AAA1B,KAAd;AACD;;AAEDL,EAAAA,QAAQ,GAAG,CAEV;;AAEDQ,EAAAA,aAAa,CAACZ,KAAD,EAAQ;AACnB,QAAIA,KAAK,CAACa,MAAN,KAAiB,CAArB,EAAwB;AACtB,aAAO,EAAP;AACD;;AAED,UAAMC,OAAO,GAAG,CACbC,OAAD,IAAaA,OAAO,CAACC,IADP,EAEbD,OAAD,IAAaA,OAAO,CAACE,IAFP,CAAhB;AAKA,UAAMC,UAAU,GAAGlB,KAAK,CAACmB,WAAN,EAAnB;AAEA,WAAO,KAAKpB,KAAL,CAAWI,IAAX,CAAgBiB,MAAhB,CAAuBL,OAAO,IAAI;AACvC,WAAK,IAAIM,KAAT,IAAkBP,OAAlB,EAA2B;AACzB,cAAMQ,eAAe,GAAGD,KAAK,CAACN,OAAD,CAAL,CAAeI,WAAf,EAAxB;;AAEA,YAAID,UAAU,KAAKI,eAAf,IAAkCA,eAAe,CAACC,QAAhB,CAAyBL,UAAzB,CAAtC,EAA4E;AAC1E,iBAAO,IAAP;AACD;AACF;;AAED,aAAO,KAAP;AACD,KAVM,CAAP;AAWD;;AAEDM,EAAAA,MAAM,GAAG;AACP,UAAM;AAAExB,MAAAA,KAAF;AAASW,MAAAA,SAAT;AAAoBT,MAAAA;AAApB,QAAwC,KAAKH,KAAnD;;AAEA,QAAIY,SAAJ,EAAe;AACb,0BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AACD;;AAED,UAAMc,YAAY,GAAG,KAAKb,aAAL,CAAmBZ,KAAnB,CAArB;AAEA,wBACE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA,8BAEE;AAAA,gCACE;AAAO,UAAA,SAAS,EAAC,UAAjB;AAA4B,UAAA,KAAK,EAAGA,KAApC;AAA4C,UAAA,OAAO,EAAG,MAAM,KAAKU,QAAL,CAAc;AAAER,YAAAA,eAAe,EAAE;AAAnB,WAAd,CAA5D;AAAuG,UAAA,QAAQ,EAAIwB,KAAD,IAAW,KAAKhB,QAAL,CAAc;AAAEV,YAAAA,KAAK,EAAE0B,KAAK,CAACC,MAAN,CAAaC;AAAtB,WAAd,CAA7H;AAA4K,UAAA,IAAI,EAAC,MAAjL;AAAwL,UAAA,WAAW,EAAC;AAApM;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA,iCACE;AAAI,YAAA,SAAS,EAAC,OAAd;AAAA,sBACI,CAAC1B,eAAD,IAAoBuB,YAAY,CAACI,GAAb,CAAiBC,KAAK,IAAI;AAC9C,kCACE;AAAI,gBAAA,SAAS,EAAC,cAAd;AAA8C,gBAAA,OAAO,EAAG,MAAM,KAAKpB,QAAL,CAAc;AAAER,kBAAAA,eAAe,EAAE,IAAnB;AAAyBF,kBAAAA,KAAK,EAAE8B,KAAK,CAACd;AAAtC,iBAAd,CAA9D;AAAA,0BACMc,KAAK,CAACd;AADZ,iBAAmCc,KAAK,CAACC,EAAzC;AAAA;AAAA;AAAA;AAAA,sBADF;AAKD,aANqB;AADxB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,eAgBE;AAAQ,QAAA,SAAS,EAAC,cAAlB;AAAiC,QAAA,IAAI,EAAC,QAAtC;AAA+C,QAAA,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAY,4BAAZ,CAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAhBF,eAiBE;AAAK,QAAA,EAAE,EAAC,QAAR;AAAiB,QAAA,SAAS,EAAC;AAA3B;AAAA;AAAA;AAAA;AAAA,cAjBF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAqBD;;AAnFwC;;AAuFzC,eAAetC,YAAf","sourcesContent":["\nimport React from 'react';\n\nimport \"../Css-files/wrapper.css\"\n\nclass MySearchSite extends React.Component {\n\n  constructor(props) {\n    super(props)\n    \n    this.state = {\n      query: '',\n      loadingData: true,\n      hideSuggestions: false,\n      data: []\n    }\n\n    this.onSearch = this.onSearch.bind(this)\n    \n    this.loadInitialData()\n  }\n  \n  async loadInitialData() {\n    const response = await fetch('https://dgpcoding.com/SYS/api/flight/allairports')\n    const json = await response.json()\n    \n    this.setState({ isLoading: false, data: json })\n  }\n\n  onSearch() {\n\n  }\n  \n  filterByQuery(query) {\n    if (query.length === 0) {\n      return []\n    }\n    \n    const matches = [\n      (element) => element.name,\n      (element) => element.city\n    ]\n    \n    const queryValue = query.toLowerCase()\n    \n    return this.state.data.filter(element => {\n      for (let match of matches) {\n        const comparableValue = match(element).toLowerCase()\n        \n        if (queryValue === comparableValue || comparableValue.includes(queryValue)) {\n          return true\n        }\n      }\n      \n      return false\n    })\n  }\n  \n  render() {\n    const { query, isLoading, hideSuggestions } = this.state\n    \n    if (isLoading) {\n      return <p>Initializing</p>\n    }\n    \n    const filteredData = this.filterByQuery(query)\n    \n    return (\n      <div className='wrapper'>\n        \n        <div>\n          <input className=\"searcher\" value={ query } onFocus={ () => this.setState({ hideSuggestions: false })} onChange={ (event) => this.setState({ query: event.target.value }) } type='text' placeholder='Food or destination'/>\n          <div>\n            <ul className=\"table\">\n              { !hideSuggestions && filteredData.map(entry => {\n                return (\n                  <li className=\"tableContent\" key={ entry.id } onClick={ () => this.setState({ hideSuggestions: true, query: entry.name }) }>\n                      { entry.name}\n                  </li>\n                )\n              }) }\n            </ul>\n          </div>\n        </div>\n        <button className=\"searchButton\" type=\"button\" onClick={console.log(\"implement something please\")} >Search</button>\n        <div id=\"result\" className=\"returnedResult\" ></div>\n      </div>\n    )\n  }\n}\n\n\n  export default MySearchSite;"]},"metadata":{},"sourceType":"module"}